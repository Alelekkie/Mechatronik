<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Admin Login</title>
<style>
body, html {height:100%; margin:0; font-family:Arial; display:flex; justify-content:center; align-items:center; background:#f5f5f5;}
#loginDiv {display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; background:white; padding:30px 40px; border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.2);}
input{width:250px;padding:10px;margin:10px 0;border:1px solid #aaa;border-radius:5px;}
button{width:270px;padding:10px;margin-top:10px;background:#007bff;color:white;border:none;border-radius:5px;cursor:pointer;}
button:hover{background:#0056b3;}
#errorMsg{color:red;margin-top:10px;font-weight:bold;}
#adminDiv{display:none;height:100%;width:100%;background:black;color:white;flex-direction:column;justify-content:center;align-items:center;font-size:2em;}
#logoutBtn{margin-top:20px;width:150px;padding:10px;background:#ff4d4d;}
#logoutBtn:hover{background:#cc0000;}
</style>
</head>
<body>

<div id="loginDiv">
  <h2>Logowanie Admin</h2>
  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Hasło">
  <button onclick="login()">Zaloguj</button>
  <button onclick="togglePassword()" style="margin-top:5px;">Pokaż/Ukryj hasło</button>
  <div id="errorMsg"></div>
</div>

<div id="adminDiv">
  ADMIN
  <button id="logoutBtn" onclick="logout()">Wyloguj</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.30.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.30.0/firebase-auth-compat.js"></script>

<script>
// Konfiguracja Firebase
const firebaseConfig = {
  apiKey: "AIzaSyD3XXnIM1gTcfMTj63lgyo8lUuivjPBO-I",
  authDomain: "urlopy-ee985.firebaseapp.com",
  projectId: "urlopy-ee985",
  storageBucket: "urlopy-ee985.appspot.com",
  messagingSenderId: "1054650388220",
  appId: "1:1054650388220:web:3545e54d9305db91e49179"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// Pokaż/Ukryj hasło
function togglePassword(){
  const pass = document.getElementById("password");
  pass.type = pass.type==="password" ? "text" : "password";
}

// Logowanie
function login(){
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const errorMsg = document.getElementById("errorMsg");
  errorMsg.innerText = "";

  if(!email || !password){ errorMsg.innerText="Podaj email i hasło!"; return; }

  auth.signInWithEmailAndPassword(email,password)
    .then(()=> {
      document.getElementById("loginDiv").style.display="none";
      document.getElementById("adminDiv").style.display="flex";
    })
    .catch(err=>{
      errorMsg.innerText="Błędne dane logowania!";
    });
}

// Wylogowanie
function logout(){
  auth.signOut().then(()=>{
    document.getElementById("loginDiv").style.display="flex";
    document.getElementById("adminDiv").style.display="none";
    document.getElementById("password").value="";
    document.getElementById("errorMsg").innerText="";
  });
}

// Automatyczne logowanie jeśli użytkownik już zalogowany
auth.onAuthStateChanged(user=>{
  if(user){
    document.getElementById("loginDiv").style.display="none";
    document.getElementById("adminDiv").style.display="flex";
  } else {
    document.getElementById("loginDiv").style.display="flex";
    document.getElementById("adminDiv").style.display="none";
  }
});
</script>

</body>
</html>
